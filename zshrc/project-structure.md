# Zsh Configuration Project Structure

This document provides a comprehensive overview of the zsh configuration project, including its structure, platform-specific differences, and setup instructions.

## Project Structure

```
/Users/gursharansingh.hayer/github/dotfiles-latest/zshrc/
├───.zsh_plugins.txt
├───.zsh_plugins.zsh
├───colorscheme-set.sh
├───create-symlinks.sh
├───readme.md
├───setup.sh
├───zshrc-common.sh
├───zshrc-file.sh
├───zshrc-linux.sh
├───zshrc-macos.sh
└───modules/
    ├───aliases.sh
    ├───autocompletion.sh
    ├───colors.sh
    ├───history.sh
    └───symlinks.sh
```

## File Descriptions

*   **`.zsh_plugins.txt`**: A plain text file listing the zsh plugins to be loaded by `antidote`.
*   **`.zsh_plugins.zsh`**: A file generated by `antidote` that sources the plugins listed in `.zsh_plugins.txt`.
*   **`colorscheme-set.sh`**: A script that sets the colorscheme for various applications.
*   **`create-symlinks.sh`**: A script that creates symlinks for the configuration files.
*   **`readme.md`**: The readme file for the project.
*   **`setup.sh`**: A script to install `antidote`.
*   **`zshrc-common.sh`**: This file contains all the common, OS-agnostic configurations.
*   **`zshrc-file.sh`**: The main zshrc file that sources all the other configuration files.
*   **`zshrc-linux.sh`**: This file contains OS-specific configurations for Linux.
*   **`zshrc-macos.sh`**: This file contains OS-specific configurations for macOS.
*   **`modules/`**: A directory containing modularized zsh configuration files.
    *   **`aliases.sh`**: A file to store aliases.
    *   **`autocompletion.sh`**: This file contains autocompletion settings.
    *   **`colors.sh`**: This file contains color definitions.
    *   **`history.sh`**: This file contains history settings.
    *   **`symlinks.sh`**: This file contains the logic for creating symlinks.

## Prerequisites

To use this configuration, you will need to have the following packages installed:

**Common:**

*   `zsh`
*   `git`
*   `curl`
*   `mise`
*   `starship`
*   `fzf`
*   `kubectl`
*   `tmux`

**macOS:**

*   `brew`
*   `chruby`
*   `rvm`
*   `eza`
*   `bat`
*   `zoxide`
*   `mysql-client`
*   `google-cloud-sdk`
*   `openjdk`
*   `luaver`
*   `antlr`
*   `templ`
*   `neovim`

**Linux:**

*   `lua`
*   `neofetch`
*   `eza` (optional, aliased to `ls`)

## How to Run the Configuration

1.  **Install the prerequisites:** Install the necessary packages for your operating system.
2.  **Clone the repository:** Clone the repository to `~/github/dotfiles-latest`.
3.  **Run the setup script:** Run the `setup.sh` script to install `antidote`:

    ```bash
    ./setup.sh
    ```

4.  **Create the symlinks:** Run the `create-symlinks.sh` script to create the necessary symlinks:

    ```bash
    ./create-symlinks.sh
    ```

5.  **Restart your shell:** Restart your shell to apply the changes.

## Platform-Specific Configurations

The main difference between the macOS and Linux setups is the way packages are installed and managed. macOS uses Homebrew, while the Linux setup is tailored for Debian-based distributions that use `apt`.

### `zshrc-macos.sh`

This file contains configurations specific to macOS, such as:

*   Setting up `chruby` for Ruby version management.
*   Defining `PATH` for macOS-specific tools like `go`, `android`, and `rvm`.

### `zshrc-linux.sh`

This file contains configurations specific to Linux, such as:

*   Setting the `TERM` variable to `xterm-256color`.
*   Setting up aliases for `ls`.
*   Configuring `starship` with a different configuration file based on the hostname.
*   Initializing `z.lua` for directory jumping.
*   Initializing `neofetch`.
*   Defining `PATH` for Linux-specific tools.

## Symlinks

The `create-symlinks.sh` script creates symlinks from the home directory to the configuration files in this project. This is done to keep the configuration files in a centralized location while still being accessible to the applications that use them.

The `modules/symlinks.sh` file contains the logic for creating the symlinks. It is designed to back up any existing files before creating the symlinks.

## `zshrc-common.sh`

This file is the heart of the shared configuration. It contains all the settings that are common to both macOS and Linux, including:

*   Sourcing the modularized configuration files.
*   Setting up the `PATH` for common tools.
*   Initializing `antidote` for plugin management.
*   Setting up keybindings.
*   Configuring `zsh` options like `ZSH_DISABLE_COMPFIX` and `zle_highlight`.
*   Initializing `mise` for runtime environment management.
*   Initializing `starship`.
*   Setting up `fzf` and `kubectl` completion.
*   Starting `tmux` automatically.

## `colorscheme-set.sh`

This script is responsible for setting the colorscheme for various applications, including:

*   ghostty
*   btop
*   starship
*   tmux
*   neovim

It is designed to be efficient by only running the expensive commands when the colorscheme is actually changed. It is also cross-platform compatible, with macOS-specific commands wrapped in a function that is only called on macOS.
